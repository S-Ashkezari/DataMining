
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>نحوه اتصال به پایگاه داده در پایتون &#8212; Data Mining (Feature Selection and Extraction Methods)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_sources/dataBaseConnection';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Learning Pandas from Scratch" href="Pandas_kamleltarin.html" />
    <link rel="prev" title="Welcome to your Jupyter Book" href="../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Data Mining (Feature Selection and Extraction Methods) - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Data Mining (Feature Selection and Extraction Methods) - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">نحوه اتصال به پایگاه داده در پایتون</a></li>




<li class="toctree-l1"><a class="reference internal" href="Pandas_kamleltarin.html">Learning Pandas from Scratch</a></li>


<li class="toctree-l1"><a class="reference internal" href="featureImportance.html">Introduction to the Importance of Features in Data Mining</a></li>

<li class="toctree-l1"><a class="reference internal" href="comprehensive-guide-on-feature-selection.html"><strong>Comprehensive Guide on Feature Selection</strong></a></li>








<li class="toctree-l1"><a class="reference internal" href="featureExtraction.html">3. Feature Extraction (featureExtraction.ipynb)</a></li>


</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F_sources/dataBaseConnection.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/_sources/dataBaseConnection.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>نحوه اتصال به پایگاه داده در پایتون</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">نحوه اتصال به پایگاه داده در پایتون</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cursor">cursor آشنایی با</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">ایجاد جدول</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fetching-data">(Fetching Data) واکشی داده ها</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">به روز رسانی داده ها</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">حذف داده ها و جداول</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>نحوه اتصال به پایگاه داده در پایتون<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
در این بخش نحوه اتصال به پایگاه داده SQLite3 و انجام عملیات مختلف را بررسی می کنیم.
 کتابخانه SQLite3 در پایتون موجود است.
</div>
<div style="direction:rtl">
    اعمال مورد بررسی:   
</div>
<p>CRUD<br />
C: Create<br />
R: Read<br />
U: Update<br />
D: Delete
</span></p>
<p>ref: <a class="reference external" href="https://www.geeksforgeeks.org/sql-using-python/">https://www.geeksforgeeks.org/sql-using-python/</a></p>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl"> 
    ابتدا باید sqlite3 را import نماییم 
</div>
</span><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="n">DETACH</span> <span class="n">DATABASE</span> <span class="n">Movies</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
    <span class="n">DETACH</span> <span class="n">DATABASE</span> <span class="n">Movies</span><span class="p">;</span>
           <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<span style="font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
    سپس با استفاده از متد $connect()$ یک اتصال ایجاد میکنیم و نام پایگاه داده ای را که می خواهیم به آن دسترسی داشته باشیم مشخص میکنیم. اگر فایلی با آن نام وجود داشته باشد آن فایل را باز می کند. در غیر این صورت، پایتون یک فایل با نام داده شده ایجاد می کند.
    سپس، یک شی cursor فراخوانی می شود تا بتواند دستورات را به SQL ارسال کند.
</div>
</span>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># connecting to the database</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;testDB2.db&quot;</span><span class="p">)</span>

<span class="c1"># cursor</span>
<span class="n">crsr</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># print statement will execute if there</span>
<span class="c1"># are no errors</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connected to the database&quot;</span><span class="p">)</span>

<span class="c1"># close the connection</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Connected to the database
</pre></div>
</div>
</div>
</div>
<section id="cursor">
<h2>cursor آشنایی با<a class="headerlink" href="#cursor" title="Link to this heading">#</a></h2>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
<ul>
    <li>
شی cursor برای ایجاد اتصال برای اجرای پرس و جوهای SQL استفاده می شود
    </li>
    <li>
        به عنوان میان افزار بین اتصال پایگاه داده SQLite و پرس و جو SQL عمل می کند
    </li>
    <li>
       cursor یک ساختار کنترلی است که برای پیمایش و واکشی رکوردهای پایگاه داده استفاده می شود و  پس از اتصال به پایگاه داده SQLite ایجاد می شود
    </li>
    <li>
        تمام دستورات فقط با استفاده از cursor نما اجرا می شوند تمام دستورات فقط با استفاده از cursor نما اجرا می شوند
    </li>    
</ul>    
</div>
</span></section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id2">
<h1>ایجاد جدول<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
پس از اتصال به پایگاه داده و ایجاد شی مکان نما، ببینیم که چگونه کوئری ها را اجرا کنیم
    <ul>
    <li>
برای اجرای یک کوئری در پایگاه داده، یک شی ایجاد می کنیم و دستور SQL را در آن بنویسیم. 
    </li>
    <li>
برای اجرای دستور متد $execute()$ را فراخوانی می کنیم و نام دستور SQL را به عنوان پارامتر در آن قرار می دهیم
        </li>
        <li>
پس از انجام کار، تغییرات را در فایل ذخیره و سپس اتصال را قطع می کنیم.
        </li>
    </ul>
</div>
</span>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># connecting to the database</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;testDB2.db&quot;</span><span class="p">)</span>

<span class="c1"># cursor</span>
<span class="n">crsr</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># SQL command to create a table in the database</span>
<span class="n">sql_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;CREATE TABLE emp2 ( </span>
<span class="s2">staff_number INT PRIMARY KEY, </span>
<span class="s2">fname VARCHAR(20), </span>
<span class="s2">lname VARCHAR(30), </span>
<span class="s2">gender CHAR(1), </span>
<span class="s2">joining DATE);&quot;&quot;&quot;</span>

<span class="c1"># execute the statement</span>
<span class="n">crsr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_command</span><span class="p">)</span>

<span class="c1"># close the connection</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
    بعد از ساخت جدول، نوبت به درج داده می رسد:
</div>
</span><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Python code to demonstrate table creation and</span>
<span class="c1"># insertions with SQL</span>

<span class="c1"># importing module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># connecting to the database</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;testDB.db&quot;</span><span class="p">)</span>

<span class="c1"># cursor</span>
<span class="n">crsr</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># SQL command to insert the data in the table</span>
<span class="n">sql_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;INSERT INTO emp VALUES (23, &quot;Rishabh&quot;,</span><span class="se">\</span>
<span class="s2">&quot;Bansal&quot;, &quot;M&quot;, &quot;2014-03-28&quot;);&quot;&quot;&quot;</span>
<span class="n">crsr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_command</span><span class="p">)</span>

<span class="c1"># another SQL command to insert the data in the table</span>
<span class="n">sql_command</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;INSERT INTO emp VALUES (1, &quot;Bill&quot;, &quot;Gates&quot;,</span><span class="se">\</span>
<span class="s2">&quot;M&quot;, &quot;1980-10-28&quot;);&quot;&quot;&quot;</span>
<span class="n">crsr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_command</span><span class="p">)</span>

<span class="c1"># To save the changes in the files. Never skip this.</span>
<span class="c1"># If we skip this, nothing will be saved in the database.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="c1"># close the connection</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
مثال: درج داده توسط کاربر
</span>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># connecting to the database</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;testDB2.db&quot;</span><span class="p">)</span>

<span class="c1"># cursor</span>
<span class="n">crsr</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># primary key</span>
<span class="n">pk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="c1"># Enter 5 students first names</span>
<span class="n">f_name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Nikhil&#39;</span><span class="p">,</span> <span class="s1">&#39;Nisha&#39;</span><span class="p">,</span> <span class="s1">&#39;Abhinav&#39;</span><span class="p">,</span> <span class="s1">&#39;Raju&#39;</span><span class="p">,</span> <span class="s1">&#39;Anshul&#39;</span><span class="p">]</span>

<span class="c1"># Enter 5 students last names</span>
<span class="n">l_name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Aggarwal&#39;</span><span class="p">,</span> <span class="s1">&#39;Rawat&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomar&#39;</span><span class="p">,</span> <span class="s1">&#39;Kumar&#39;</span><span class="p">,</span> <span class="s1">&#39;Aggarwal&#39;</span><span class="p">]</span>

<span class="c1"># Enter their gender respectively</span>
<span class="n">gender</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>

<span class="c1"># Enter their joining data respectively</span>
<span class="n">date</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2019-08-24&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2018-05-14&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2018-05-14&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>

	<span class="c1"># This is the q-mark style:</span>
	<span class="c1">#crsr.execute(&#39;INSERT INTO employee3 VALUES (&quot;{pk[i]}&quot;, &quot;{f_name[i]}&quot;, &quot;{l_name[i]}&quot;, &quot;{gender[i]}&quot;, &quot;{date[i]}&quot;)&#39;)</span>
    <span class="n">crsr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO emp2 VALUES (?, ?, ?, ?, ?)&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">pk</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">f_name</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">l_name</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">gender</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">date</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>


<span class="c1"># To save the changes in the files. Never skip this.</span>
<span class="c1"># If we skip this, nothing will be saved in the database.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="c1"># close the connection</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="fetching-data">
<h1>(Fetching Data) واکشی داده ها<a class="headerlink" href="#fetching-data" title="Link to this heading">#</a></h1>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
با استفاده از کوئری Select * from table_name می توان همه داده های یک جدول را واکشی و آنها را در شیئی ذخیره نمود
</span>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importing the module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># connect with the myTable database</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;testDB2.db&quot;</span><span class="p">)</span>

<span class="c1"># cursor object</span>
<span class="n">crsr</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># execute the command to fetch all the data from the table emp</span>
<span class="n">crsr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM emp2&quot;</span><span class="p">)</span>

<span class="c1"># store all the fetched data in the ans variable</span>
<span class="n">ans</span> <span class="o">=</span> <span class="n">crsr</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="c1"># Since we have already selected all the data entries</span>
<span class="c1"># using the &quot;SELECT *&quot; SQL command and stored them in</span>
<span class="c1"># the ans variable, all we need to do now is to print</span>
<span class="c1"># out the ans variable</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ans</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, &#39;Nikhil&#39;, &#39;Aggarwal&#39;, &#39;M&#39;, &#39;2019-08-24&#39;)
(3, &#39;Nisha&#39;, &#39;Rawat&#39;, &#39;F&#39;, &#39;2020-01-01&#39;)
(4, &#39;Abhinav&#39;, &#39;Tomar&#39;, &#39;M&#39;, &#39;2018-05-14&#39;)
(5, &#39;Raju&#39;, &#39;Kumar&#39;, &#39;M&#39;, &#39;2015-02-02&#39;)
(6, &#39;Anshul&#39;, &#39;Aggarwal&#39;, &#39;F&#39;, &#39;2018-05-14&#39;)
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id3">
<h1>به روز رسانی داده ها<a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
برای به روز رسانی داده ها در جدول SQLite3 از دستور UPDATE استفاده می کنیم. می‌توانیم ستون‌های تک و یا چندین ستون را با استفاده از عبارت UPDATE بر اساس نیاز خود به‌روزرسانی کنیم.
    </span>
    </div>
<pre>UPDATE table_name SET column1 = value1, column2 = value2,…  
WHERE condition; </pre>    <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># Connecting to sqlite</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;testDB.db&#39;</span><span class="p">)</span>

<span class="c1"># Creating a cursor object using</span>
<span class="c1"># the cursor() method</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Updating</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;UPDATE emp SET lname = &quot;Jyoti&quot; WHERE fname=&quot;Rishabh&quot;;&#39;&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Commit your changes in the database</span>
<span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="c1"># Closing the connection</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id4">
<h1>حذف داده ها و جداول<a class="headerlink" href="#id4" title="Link to this heading">#</a></h1>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
برای حذف داده از یک جدول از دستور زیر استفاده می کنیم:
</span>
</div>
<pre>UPDATE table_name SET column1 = value1, column2 = value2,…  
WHERE condition; </pre>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
    مثال:
</span>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># Connecting to sqlite</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;testDB.db&#39;</span><span class="p">)</span>

<span class="c1"># Creating a cursor object using</span>
<span class="c1"># the cursor() method</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Updating</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;DELETE FROM emp WHERE fname=&quot;Rishabh&quot;;&#39;&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Commit your changes in the database</span>
<span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="c1"># Closing the connection</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
برای حذف یک جدول با داده هایش نیز از دستور DROP TABLE استفاده می کنیم.
    مثال:
</span>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import module</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># Connecting to sqlite</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;testDB.db&#39;</span><span class="p">)</span>

<span class="c1"># Creating a cursor object using</span>
<span class="c1"># the cursor() method</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Updating</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;DROP TABLE Student;&#39;&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Commit your changes in the database</span>
<span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="c1"># Closing the connection</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<span style="color:black;font-family: B Nazanin;font-size:16px">
<div style="direction:rtl">
مطالعه بیشتر در
<a href="https://www.geeksforgeeks.org/python-sqlite/">python-sqlite tutorial</a>
</span>
</div></section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./_sources"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to your Jupyter Book</p>
      </div>
    </a>
    <a class="right-next"
       href="Pandas_kamleltarin.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Learning Pandas from Scratch</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">نحوه اتصال به پایگاه داده در پایتون</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cursor">cursor آشنایی با</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">ایجاد جدول</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fetching-data">(Fetching Data) واکشی داده ها</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">به روز رسانی داده ها</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">حذف داده ها و جداول</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Soheila Ashkezari-T.
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>